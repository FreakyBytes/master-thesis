% !TeX spellcheck = en_GB
\documentclass[12pt, a4paper, titlepage, oneside]{book}
\usepackage[a4paper, margin=3cm]{geometry}

%
\usepackage[utf8]{inputenc}			% utf-8, bitches
\usepackage[T1]{fontenc}			% das Trennen der Umlaute
\usepackage[english,ngerman]{babel}	% word wrapping

\usepackage{parskip}				% makes paragraph spacing nicer
\usepackage{setspace}				% more spacing control
%\setstretch{1.25}

\usepackage[breaklinks,hidelinks]{hyperref}		% links

%\usepackage{lmodern}
%\usepackage{textcomp}

\usepackage{xspace}					% intelligent spacing after words, usefull for shortcut coammnds
\usepackage{graphicx}				% better graphics support
\usepackage{color}					% enables support for using different colors
\usepackage{csquotes}				% show quotes

\usepackage{comment}
\usepackage{caption}
\usepackage{float}					% better positioning for graphics, tables, etc.
%\usepackage{tabu}					% better tables -> unmaintained?
\usepackage{booktabs}				% improvements to LaTeX tables
\usepackage{tabularx}				% better tables
\usepackage{multirow}				% for cells spanning multiple rows
\usepackage{multicol}				% seems to be necessary for multirow?
\usepackage{calc}					% enables calculations in heights and stuff
\usepackage{wrapfig}				% figures on the side
\usepackage{subcaption}				% captions for subfigures
\usepackage{pdfpages}				% include whole pdfs as pages

\usepackage[title,toc,page]{appendix}		% appendix environment
\usepackage{listings}				% source code listings
%usepackage{longtable}				% multipage tables
%usepackage{array}					% enables the user of m{} and b{} in tables
%usepackage{multirow}				% allow multiple rows

%usepackage{pdflscape}				% produces landscape pages (landscape env)

\usepackage{amssymb}				% math
\usepackage{amsmath}				% more math
\usepackage{textgreek}				% allows for greek chars
\usepackage{xfrac}					% tilted fractions using \sfrac
\usepackage[style=iso]{datetime2}	% date format, that makes sense to everybody

\usepackage[acronym,toc,shortcuts]{glossaries}	% Glossary and Acronym support

\usepackage[backend=bibtex, style=authoryear,
	citestyle=authoryear, sorting=ynt,
	sortcites=true, block=none,	indexing=true,
	citereset=none, isbn=true,
	url=true, doi=true, natbib=false,
	hyperref=true]{biblatex}					% even better citation support
\addbibresource{bas-sec.bib}
\addbibresource{standards.bib}

%
\usepackage{ccicons}				% icons for the creative commons licenses

%
\usepackage{hyperxmp}				% pdf meta information
\hypersetup{
	pdfauthor={Martin Peters},
	pdfauthortitle={Master Student},
	pdfcreator={},
	pdflang={en},
	pdfkeywords={Building Automation, KNX, netflow},
	pdftype={Text},
	pdfcopyright={Copyright (C) 2017/2018, Martin Peters.},
	pdflicenseurl={}
}

% ------------------------------------------------------------------------------
% Shortcuts
% 
\definecolor{pink}{rgb}{1,0,1}
\definecolor{red}{rgb}{1,0,0}
\definecolor{green}{rgb}{0,1,0}

\newcommand{\hint}[1]{{\color{pink}#1}}
%\newcommand{\hint}[1]{}

\newcommand{\alert}[1]{{\color{red}#1}}
%\newcommand{\alert}[1]{}

\newcommand{\todo}[1]{{\color{green}#1}}
%\newcommand{\todo}[1]{}

\input{shortcuts.tex}

% ------------------------------------------------------------------------------
% Glossary
% 
\makeglossaries
\input{glossary.tex}

% ------------------------------------------------------------------------------
% Titel
% 
\newcommand{\thedate}{2017-03-21}					% TODO change before handing in
\newcommand{\theauthor}{Martin Peters}
\newcommand{\thetitle}{Analysis of Distributed In-Band Monitoring Messages for Field Bus Networks in Building Automation Systems}

\title{\thetitle\\[24pt]
	\small Chair for Information and Communication Services\\[-3pt]
	\small University of Rostock}
\author{\theauthor}
\date{\thedate}
%
% ------------------------------------------------------------------------------

\begin{document}
	% begin with no page numbering
	\pagenumbering{gobble}
	% title
	%\maketitle
	\input{titlepage.tex}
	%
	% compiling info
	~ \vfill
	\begin{flushright}
		\tiny \noindent
		{\normalsize \href{http://creativecommons.org/licenses/by-sa/4.0/}{\ccbysa}} \\*[0.5em]
		This work is licensed under a \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons\\%*[-1em]
		Attribution-ShareAlike 4.0 International License}. \\
		The license of the supplementary material especially source code\\%*[-1em]
		may differ. Please refer to the respective LICENSE files.\\
		\LaTeX ~compiled at \DTMnow
	\end{flushright}
	\pagebreak
	%
	% --------------------------------------------------------------------------
	%
	% begin with roman page numbering
	\clearpage
	\setcounter{page}{1}
	\pagenumbering{roman}
	% the toc
	\pdfbookmark[1]{\contentsname}{Contents}
	\tableofcontents
	% the lof
	\listoffigures\addcontentsline{toc}{chapter}{List of Figures}
	% the lot
	\listoftables\addcontentsline{toc}{chapter}{List of Tables}
	
	% --------------------------------------------------------------------------
	% begin of actual document
	%
	% begin new page numbering
	\newpage
	\pagenumbering{arabic}
	\setstretch{1.25}
	
	\chapter{Introduction}
	\label{sec:intro}
	\input{chapter/000-intro.tex}
	
	\chapter{Background and Prior Work}
	%\chapter{Building Automation Systems and Field Buses}
	\section{Building Automation Systems and Field Buses}
	% background about BAS and KNX
	\label{sec:background:bas}
	\input{chapter/100-background-bas.tex}
	
	%\chapter{Network Analysis and Flow Monitoring}
	\section{Network Analysis and Flow Monitoring}
	% background about netflow
	\label{sec:background:network}
	\input{chapter/200-background-network.tex}
	
	%\chapter{Prior Work}
	\clearpage
	\section{Prior Work in Anomaly Detection for Building Automation Systems}
	% what does exits already
	\label{sec:background:prior-work}
	\input{chapter/300-prior-work.tex}
	
	\chapter{Methodology}
	% what methods do I use (experiments, hard thinking, not so hard thinking, etc.)
	\label{sec:methods}
	\input{chapter/400-methods.tex}
	
	%\chapter{Conceptual Architecture}
	\chapter[Concept of an IDS for Building Automation Systems]{Concept of an Intrusion Detection System for Building Automation Systems}
	\chaptermark{Concept}
	% concept
	\label{sec:concept}
	\input{chapter/500-concept.tex}
	
	\chapter[Implementation of a Prototype]{Implementation of a Prototype IDS for Building Automation Systems}
	%\chaptermark{Prototype Implementation}
	\label{sec:impl}
	\input{chapter/600-prototype-implementation.tex}
	
	\chapter{Results}
	\label{sec:results}
	\input{chapter/700-results.tex}
	
	\chapter{Discussion}
	% discussion (duh)
	\label{sec:discussion}
	\input{chapter/800-discussion.tex}
	
	
	% --------------------------------------------------------------------------
	% statement of own work
	\newpage
	\pagenumbering{gobble}  % turn off page numbering for this page
	
	\chapter*{Selbstständigkeitserklärung}
	Hiermit erkläre ich, Martin Peters, dass ich die vorliegende Masterarbeit selbständig angefertigt habe. Es wurden nur die in der Arbeit ausdrücklich benannten Quellen und Hilfsmittel benutzt. Wörtlich oder sinngemä\ss \ übernommenes Gedankengut habe ich als solches kenntlich gemacht.
	\\[64pt]
	\noindent Rostock, \thedate
	\begin{flushright}
		$\overline{~~~~~~~~~\mbox{(Unterschrift)}~~~~~~~~~}$
	\end{flushright}
	
	% restart page numbering
	\newpage
	\pagenumbering{Roman}
	
	% --------------------------------------------------------------------------
	% Bibliography
	%\nocite{*}
	\printbibliography[heading=bibintoc]
	
	% --------------------------------------------------------------------------
	% Glossary
	\newpage
	
	%\chapter*{Acronyms and Glossary}
	%\renewcommand{\glossarysection}[2][]{}
	
	\printglossary[type=\acronymtype]
	%\newpage
	\printglossary[type=main]
	%\printglossaries
	
	% --------------------------------------------------------------------------
	% Appendix
	\begin{appendices}
		\noappendicestocpagenum
		%\addappheadtotoc
		
		%\chapter*{Appendix}
		\label{sec:appendix}
		\input{chapter/appendix.tex}
	\end{appendices}
\end{document}
